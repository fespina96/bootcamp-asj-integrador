<h1 class="mt-4">Alta Nuevo Producto</h1>
<ol class="breadcrumb mb-4">
    <li class="breadcrumb-item active fst-italic">Listados</li>
    <li class="breadcrumb-item active fst-italic">Productos</li>
    <li class="breadcrumb-item ">Alta</li>
</ol>
<div class="card mb-4">
    <div class="card-header">
        <i class="fas fa-building me-1"></i>
        Información Nuevo Producto
    </div>
    <div class="card-body shadow">
        <form #productForm="ngForm" (ngSubmit)="formProcedure(productForm)">
            <div class="form-row">
                <div class="form-group col-2">
                    <label for="input-codigo-sku" [ngClass]="{'text-danger':codigo_sku.invalid && (codigo_sku.dirty || codigo_sku.touched)}">Codigo SKU</label>
                    <input 
                        class="form-control" 
                        name="input-codigo-sku" 
                        id="input-codigo-sku" 
                        [(ngModel)]="productFormInput.cod_sku" 
                        #codigo_sku="ngModel" 
                        minlength="4" 
                        required
                        [ngClass]="{'border-danger-subtle bg-danger-subtle':codigo_sku.invalid && (codigo_sku.dirty || codigo_sku.touched)}"
                    >
                    <div *ngIf="codigo_sku.invalid && (codigo_sku.dirty || codigo_sku.touched)" class="alert alert-danger small ">
                        <div *ngIf="codigo_sku.errors?.['required']">Codigo SKU requerido.</div>
                        <div *ngIf="codigo_sku.errors?.['minlength']">El largo del codigo debe ser 4 o más.</div>
                    </div>
                </div>
                <div class="form-group col-2">
                    <label for="input-proveedor" [ngClass]="{'text-danger':proveedor.invalid && (proveedor.dirty || proveedor.touched)}">Proveedor</label>
                    <select 
                        class="form-select" 
                        name="input-proveedor" 
                        id="input-proveedor" 
                        [(ngModel)]="productFormInput.prov_id" 
                        required
                        minlength="1"
                        #proveedor="ngModel"
                        [ngClass]="{'border-danger-subtle bg-danger-subtle':proveedor.invalid && (proveedor.dirty || proveedor.touched)}"
                    >
                        <option value="" selected disabled>Seleccione un proveedor</option>
                        <option *ngFor="let item of provList" value="{{item.cod}}">{{item.raz_social}}</option>
                    </select>
                    <div *ngIf="proveedor.invalid && (proveedor.dirty || proveedor.touched)" class="alert alert-danger small ">
                        <div *ngIf="proveedor.errors?.['required']">Proveedor requerido.</div>
                    </div>
                </div>
                <div class="form-group col-2">
                    <label for="input-category" [ngClass]="{'text-danger':category.invalid && (category.dirty || category.touched)}">Categoría</label>
                    <select 
                        class="form-select" 
                        name="input-category" 
                        id="input-category" 
                        [(ngModel)]="productFormInput.cat_id" 
                        required
                        minlength="1"
                        #category="ngModel"
                        [ngClass]="{'border-danger-subtle bg-danger-subtle':category.invalid && (category.dirty || category.touched)}"
                    >
                        <option value="" selected disabled>Seleccione una categoría</option>
                        <option *ngFor="let item of catList" value="{{item.id}}">{{item.name}}</option>
                    </select>
                    <div *ngIf="category.invalid && (category.dirty || category.touched)" class="alert alert-danger small ">
                        <div *ngIf="category.errors?.['required']">Categoría requerida.</div>
                    </div>
                </div>
                <div class="form-group col-6">
                    <label for="input-product-name" [ngClass]="{'text-danger':productName.invalid && (productName.dirty || productName.touched)}">Nombre Producto</label>
                    <input 
                        type="email" 
                        class="form-control" 
                        name="input-product-name" 
                        id="input-product-name" 
                        [(ngModel)]="productFormInput.name_prod" 
                        required
                        #productName="ngModel"
                        [ngClass]="{'border-danger-subtle bg-danger-subtle':productName.invalid && (productName.dirty || productName.touched)}"
                    >
                    <div *ngIf="productName.invalid && (productName.dirty || productName.touched)" class="alert alert-danger small">
                        <div *ngIf="productName.errors?.['required']">Nombre del producto requerido.</div>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-10">
                    <label for="input-desc" [ngClass]="{'text-danger':description.invalid && (description.dirty || description.touched)}">Descripción</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        name="input-desc" 
                        id="input-desc" 
                        [(ngModel)]="productFormInput.desc" 
                        #description="ngModel" 
                        required
                        [ngClass]="{'border-danger-subtle bg-danger-subtle':description.invalid && (description.dirty || description.touched)}"
                    >
                    <div *ngIf="description.invalid && (description.dirty || description.touched)" class="alert alert-danger small">
                        <div *ngIf="description.errors?.['required']">Descripción requerida.</div>
                    </div>
                </div>
                <div class="form-group col-2">
                    <label for="input-precio" [ngClass]="{'text-danger':price.invalid && (price.dirty || price.touched)}">Precio</label>
                    <input 
                        type="text"
                        class="form-control" 
                        name="input-precio" 
                        id="input-precio" 
                        [(ngModel)]="productFormInput.price" 
                        #price="ngModel" 
                        required
                        [ngClass]="{'border-danger-subtle bg-danger-subtle':price.invalid && (price.dirty || price.touched)}"
                    >
                    <div *ngIf="price.invalid && (price.dirty || price.touched)" class="alert alert-danger small">
                        <div *ngIf="price.errors?.['required']">Precio requerido.</div>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-success fw-bold me-2" ><i class="fa fa-plus" aria-hidden="true"></i> Confirmar</button>
            <button type="reset" class="btn btn-secondary  fw-bold me-2" ><i class="fa fa-arrow-rotate-left" aria-hidden="true"></i> Reiniciar</button>
            <button type="reset" routerLink="/productos" class="btn btn-danger fw-bold"><i class="fa fa-times" aria-hidden="true"></i> Cancelar</button>
        </form>
    </div>
    
</div>
